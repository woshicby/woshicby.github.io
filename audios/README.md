# audios 目录说明文档

本目录用于存放网站所需的音频资源文件，包括背景音乐、音效和其他音频内容。

## 目录说明

audios目录是网站的音频资源库，主要用于：
- 为网站提供背景音乐
- 为交互元素提供音效
- 存储视频或动画的配套音频
- 其他页面所需的音频内容

## 推荐文件格式

为了确保兼容性和良好的用户体验，建议使用以下音频格式：

- **MP3 (.mp3)**：最常用的音频格式，兼容性好，压缩率高
  - 推荐比特率：128-192kbps
  - 适用场景：背景音乐、较长的音频内容

- **OGG (.ogg)**：开源音频格式，压缩效率好
  - 推荐比特率：128-192kbps
  - 适用场景：作为MP3的备选，提高兼容性

- **WAV (.wav)**：无损音频格式，音质最佳但文件较大
  - 适用场景：短音效，对音质要求高的场合

- **AAC (.aac)**：高级音频编码，音质好于MP3
  - 推荐比特率：128-256kbps
  - 适用场景：移动设备上的音频播放

- **WebM (.webm)**：现代音频格式，支持更好的压缩和流媒体
  - 推荐比特率：128-192kbps
  - 适用场景：需要流式播放的音频内容

## 命名规范

为了便于管理和使用，建议遵循以下命名规范：

- **小写字母**：文件名全部使用小写字母
- **连字符分隔**：单词之间使用连字符（-）分隔，例如：`background-music.mp3`
- **描述性命名**：文件名应清晰描述音频内容，例如：`button-click-sound.mp3`
- **前缀标识**：可以使用前缀标识音频类型，例如：
  - `bg-`：背景音乐（background）
  - `sfx-`：音效（sound effects）
  - `voice-`：语音
- **考虑按功能模块组织文件名前缀**，例如：`touken-sword-forging.mp3`

## 使用建议

### 音频文件大小

- 背景音乐：建议控制在1-3MB以内
- 短音效：建议控制在50KB以内
- 过长的音频文件应考虑分段或压缩处理

### 性能优化

- 为不同场景提供不同质量的音频版本
- 实现延迟加载，只在需要时加载音频文件
- 考虑使用音频精灵（Audio Sprites）合并多个短音效
- 考虑音频的预加载策略（none/metadata/automatic）
- 使用适当的压缩工具优化音频质量和大小平衡

### 响应式音频

- 考虑在移动设备上提供低质量版本以节省流量
- 实现音频自动播放控制，遵循浏览器策略
- 提供音量控制和静音选项
- 适配不同操作系统的音频播放行为差异

### 主题适配

- 音频播放器控件样式应使用CSS变量定义，支持深色/浅色主题切换
- 在不同主题下，确保播放控件图标有足够的对比度
- 播放器界面应与整体网站主题风格保持一致
- 主题切换时，确保音频播放状态不会受到影响

### 音频可视化

- 如需实现音频可视化效果，使用Web Audio API
- 可视化效果应适配深色/浅色主题

## 注意事项

- 确保所有音频文件的版权合法性
- 对于较大的音频文件，考虑使用流式传输
- 测试音频在不同浏览器和设备上的兼容性
- 提供关闭音频的选项，尊重用户体验
- 在移动设备上，注意音量控制和播放行为的特殊性
- 考虑为听力障碍用户提供替代体验（如文字提示）
- 实现音频错误处理和优雅降级机制

## 示例文件结构

```
audios/
├── bg-music.mp3          # 网站背景音乐
├── sfx-button-click.mp3  # 按钮点击音效
├── sfx-menu-open.mp3     # 菜单打开音效
├── sfx-menu-close.mp3    # 菜单关闭音效
└── voice-intro.mp3       # 介绍语音
```

## 添加新音频

1. 将音频文件转换为推荐格式
2. 按照命名规范重命名文件
3. 上传至audios目录
4. 在相应HTML或JS文件中引用
5. 添加必要的播放控制和事件监听
6. 添加音频元数据（如标题、艺术家等）
7. 实现音频事件监听（播放、暂停、结束等）
8. 确保控制逻辑与主题切换系统兼容